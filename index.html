<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Badiani Il Barattolo — Iconic Italian Gelato for Retail</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="assets/i18n.js" defer></script>
  <script>
    // Redirect mobile handsets to the dedicated /mobile experience (keep iPad on desktop).
    (function () {
      try {
        var ua = navigator.userAgent || '';
        var isIPad = /iPad/.test(ua);
        var isIPadOS = !isIPad && /Macintosh/.test(ua) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1;
        if (isIPad || isIPadOS) return;

        var isMobileUA = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(ua);
        var isSmallTouch = ("maxTouchPoints" in navigator) && navigator.maxTouchPoints > 1 && window.matchMedia && window.matchMedia('(max-width: 900px)').matches;
        var alreadyOnMobile = location.pathname.indexOf('/mobile/') !== -1;

        if ((isMobileUA || isSmallTouch) && !alreadyOnMobile) {
          var target = new URL('mobile/', window.location.href);
          target.search = window.location.search;
          target.hash = window.location.hash;
          window.location.replace(target.toString());
        }
      } catch (e) {
        // no-op
      }
    })();
  </script>
  <script>
    // iPad/tablet requirement: show the DESKTOP layout (no responsive deformation) in both orientations.
    // We do this by giving iPad Safari a fixed, desktop-like layout viewport so mobile breakpoints don't trigger.
    (function () {
      try {
        var ua = navigator.userAgent || '';
        var isIPad = /iPad/.test(ua);
        // iPadOS 13+ reports as Macintosh; detect via touch points.
        var isIPadOS = !isIPad && /Macintosh/.test(ua) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1;
        if (!isIPad && !isIPadOS) return;

        var meta = document.querySelector('meta[name="viewport"]');
        if (!meta) return;

        // 1366 matches iPad Pro landscape CSS width and keeps the desktop header/nav stable.
        meta.setAttribute('content', 'width=1366, initial-scale=1, viewport-fit=cover');
        document.documentElement.classList.add('force-desktop-on-tablet');
      } catch (e) {
        // no-op
      }
    })();
  </script>
  <style>
    @font-face {
  font-family: 'SuperGroteskB';
  src: url('fonts/SuperGroteskB-CdMed.woff2') format('woff2'),
       url('fonts/SuperGroteskB-CdMed.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
    @font-face {
      font-family: 'SuperGroteskA';
      src: url('fonts/SuperGroteskA-Rg[7511].woff2') format('woff2'),
           url('fonts/SuperGroteskA-Rg[7511].woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'SuperGroteskC';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      /* Allow this single file to satisfy multiple requested weights */
      font-weight: 1 1000;
      font-style: normal;
      font-display: swap;
    }

    /* Digits-only font: use SuperGroteskC just for numbers (0-9) everywhere. */
    @font-face {
      font-family: 'SuperGroteskDigits';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      font-weight: 1 1000;
      font-style: normal;
      unicode-range: U+0030-0039;
      font-display: swap;
    }

    /* Lowercase-only font: use SuperGroteskC just for lowercase letters everywhere. */
    @font-face {
      font-family: 'SuperGroteskLower';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      font-weight: 1 1000;
      font-style: normal;
      /* a-z + common Latin-1 lowercase (incl. Italian accents) */
      unicode-range: U+0061-007A, U+00DF, U+00E0-00F6, U+00F8-00FF;
      font-display: swap;
    }

    /* Utility class: use SuperGroteskA and force lowercase */
    /* (defined once below after base typography) */

    /* Typography: use SuperGrotesk Regular as the site default
       and SuperGrotesk Medium for titles (forced uppercase). */

    /* Base: all body text uses SuperGrotesk Regular (400) */
    body, html {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB';
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* No italic/oblique typography anywhere */
    em, i { font-style: normal; }

    /* Small/caption text inherit the regular font by default.
       Keep a utility class available for explicit lowercase usage. */
    .sga-lower{
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB';
      text-transform: lowercase;
      letter-spacing: 0.4px;
    }

    /* If a string contains lowercase characters but also uppercase in the same word,
       we still want the WHOLE word/element to render in Grotesk C. This class is
       applied automatically via JS (see bottom of the page). */
    .sgc-has-lower{
      font-family: 'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskB', 'SuperGroteskA', sans-serif !important;
    }

    /* Titles: use SuperGrotesk Medium and show as uppercase */
    h1, h2, h3, .hero h1, .section-title, .story-title, .card-name, .stat-num, .barattolo-text h2,
    .mission-title, .heritage h2 {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA';
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    /* If you need to target specific small-text selectors later,
       they will inherit SuperGroteskA from body and can use
       the `.sga-lower` utility for lowercase transform. */

    /* Ensure small/readable copy uses SuperGrotesk Regular explicitly */
    .story-lead,
    .timeline-desc,
    .barattolo-text p,
    .card-description,
    .card-features li,
    .benefit p,
    .contact p,
    .spec-value,
    footer,
    .stat-label,
    .card-sub {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB';
      font-weight: 300;
    }

    :root{ 
      --badiani-blue:#1e398d; 
      --badiani-pink:#f067a6; 
      --badiani-yellow:#D8A200; 
      --badiani-cyan:#5B9AAD; 
      --badiani-green:#6F7C4A;
      --badiani-gray:#58595b; 
      --bg-light:#f8f8f8; 
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth; -webkit-text-size-adjust:100%; text-size-adjust:100%;}

    

    body{
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB';
      background:var(--bg-light); 
      color:var(--badiani-gray); 
      line-height:1.6;
    }

    .header-wrapper{ position:sticky; top:0; z-index:1000; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
    header{ background:var(--badiani-blue); padding:18px clamp(16px, 3.2vw, 40px); display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:clamp(10px, 1.6vw, 24px); position:relative; }
    .logo-link{ display:flex; align-items:center; text-decoration:none; cursor:pointer; -webkit-tap-highlight-color: transparent; }
    /* Remove the pink focus ring that appears on click; keep a subtle ring for keyboard navigation only */
    .logo-link:focus{ outline:none; }
    .logo-link:focus-visible{ outline:2px solid rgba(255,255,255,0.6); outline-offset:2px; border-radius:10px; }
    .logo-img{ height:clamp(42px, 4.0vw, 55px); width:auto; object-fit:contain; filter: invert(1) grayscale(1) brightness(200%); mix-blend-mode: screen; }
    .nav-menu{ display:flex; gap:clamp(8px, 1.2vw, 20px); align-items:center; justify-self:end; position:relative; z-index:2; }
    .nav-menu a{ color:#fff; text-decoration:none; font-size:clamp(12px, 0.9vw, 14px); letter-spacing:clamp(0.5px, 0.1vw, 1px); text-transform:uppercase; transition:all 0.3s; padding:clamp(6px, 0.6vw, 8px) clamp(8px, 1.0vw, 14px); border-radius:25px; font-weight:500; }
    .nav-menu a:hover{ background:var(--badiani-pink); transform:translateY(-2px); }

    

    .pink-banner{ background:var(--badiani-pink); color:#fff; padding:12px 20px 16px; text-align:center; font-size:15px; letter-spacing:2px; text-transform:uppercase; font-weight:500; line-height:1.5; transition:opacity 0.3s; overflow:hidden; }
    .pink-banner p,
    .pink-banner #bannerCurrent{ 
      margin:3px 0; 
      min-height:18px; 
      /* force lowercase and use SuperGrotesk Regular */
      text-transform: lowercase;
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Continuous ticker inside pink banner */
    .banner-ticker{ width:100%; }
    .banner-ticker__viewport{ overflow:hidden; width:100%; }
    .banner-ticker__track{
      display:inline-flex;
      align-items:center;
      white-space:nowrap;
      will-change:transform;
      animation: bannerTicker var(--banner-ticker-duration, 38s) linear infinite;
    }
    .banner-ticker__sequence{ display:inline-flex; align-items:center; }
    .banner-item{ font-size:1.1em; }
    .banner-sep{ padding:0 0.6rem; opacity:0.95; }

    @keyframes bannerTicker{
      from{ transform: translateX(0); }
      to{ transform: translateX(-50%); }
    }

    @media (prefers-reduced-motion: reduce){
      .banner-ticker__track{ animation: none; transform: none; }
    }
    /* single-line banner: #bannerNext removed */

    .section-divider{
      background:linear-gradient(135deg, var(--badiani-pink) 0%, #ff7ab7 100%);
      color:#fff;
      padding:14px 20px;
      text-align:center;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', sans-serif;
      font-size:14px;
      letter-spacing:2px;
      text-transform:none;
      box-shadow:0 2px 8px rgba(240,103,166,0.3);
      font-weight:400;
      transition:all 0.5s ease;
      display: none;
    }
    .section-divider.visible{ display:block; }

    /* HERO - TITOLO PIÃ™ IN ALTO */
    .hero{ position:relative; height:550px; overflow:hidden; display:flex; align-items:flex-start; justify-content:center; text-align:center; color:#fff; padding-top:80px; }
    .hero-bg{ 
        position:absolute; 
        top:0;left:0;right:0;bottom:0; 
      background-image:url('assets/extracted/a7a56600066a6e356fdf55d5683807c4328d597b.webp');
        background-size:cover;
        background-position: center center;
        filter:brightness(0.32);
        transition: filter 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .hero:hover .hero-bg{
        filter:brightness(1) saturate(1.1);
        transform: scale(1.05);
    }
    .hero-content{ position:absolute; top:50%; left:0; right:0; transform:translateY(-50%); margin:0 auto; z-index:2; width:100%; max-width:900px; padding:20px; transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
    .hero:hover .hero-content{
        opacity: 0;
        pointer-events: none;
    }
    .hero h1{ font-family:'SuperGroteskDigits', 'SuperGroteskB'; font-size:clamp(42px, 6.2vw, 86px); font-weight:700; letter-spacing:clamp(1px, 0.35vw, 5px); text-transform:uppercase; margin-bottom:18px; line-height:1.08; }
    .hero h1 span{ color:var(--badiani-pink); font-style:normal; }
    .hero .hero-subtitle{ font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-size:clamp(18px, 2.2vw, 30px); margin-bottom:15px; font-style:normal; font-weight:500; letter-spacing:clamp(0.6px, 0.12vw, 1.5px); text-transform:uppercase; font-variant-caps:normal; line-height:1.25; }
    .hero p{ font-size:clamp(16px, 1.95vw, 28px); line-height:1.65; font-weight:300; }

    /* Desktop: center the hero copy within the hero section (no always-on transforms to avoid text blur). */
    @media (min-width: 901px){
      .hero{
        display: grid;
        place-items: center;
        height: 550px;
        padding-top: 0;
      }
      .hero-content{
        position: relative;
        top: 0;
        left: 0;
        right: 0;
        transform: none;
        margin: 0 auto;
        padding: 20px;
      }
    }

    /* SEZIONE STORIA CON SFONDO FIRENZE */
    .buontalenti-story{
        position: relative;
        overflow: hidden;
        background-color: #fff;
        padding:80px 20px;
    }
    .buontalenti-story::before {
        content: "";
        position: absolute;
        inset: 0;
      background-image: url('assets/extracted/5a21d37ff7aad42e4cbf72325d7f2285026d0fda.webp');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.20;
        pointer-events: none;
        z-index: 0;
    }

    .heritage, .products, .contact {
        position: relative;
        overflow: hidden;
        background-color: #fff;
    }
    .heritage::before, .products::before, .contact::before {
        content: "";
        position: absolute;
        inset: 0;
      background-image: url('assets/extracted/1b2a5cc62945aea094a8e00e488dd08378eef958.webp');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.25;
        pointer-events: none;
        z-index: 0;
    }

    .story-inner{ max-width:1200px; margin:0 auto; position:relative; z-index:1; }
    .story-header{ text-align:center; margin-bottom:50px; }
    .story-title{ position:relative; display:inline-block; padding-left:50px; font-size:54px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:25px; font-weight:700; }
    .story-title::before{ content:''; position:absolute; left:0; top:50%; transform:translateY(-50%); width:40px; height:40px; background:var(--badiani-pink); border-radius:3px; }
    .story-lead{ font-size:22px; margin-bottom:40px; line-height:1.9; max-width:900px; margin-left:auto; margin-right:auto; font-weight:300; }
    .highlight-pink{ background:var(--badiani-pink); color:#fff; padding:3px 10px; font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-weight:500; border-radius:3px; white-space:nowrap; text-transform:uppercase; font-variant-caps:normal; }

    /* Make only the “20%” text 20% bigger without affecting the whole sentence */
    .percent-boost{ font-size:1.2em; font-weight:600; white-space:nowrap; }

    .story-timeline{ display:grid; grid-template-columns:repeat(3, 1fr); gap:40px; margin-top:50px; }
    .timeline-item{ padding:45px 35px; background:#fff; border-radius:20px; box-shadow:0 10px 40px rgba(0,0,0,0.1); transition:all 0.4s; border-left:6px solid var(--badiani-pink); }
    .timeline-item:nth-child(1){ border-left-color:var(--badiani-blue); }
    .timeline-item:nth-child(2){ border-left-color:var(--badiani-pink); }
    .timeline-item:nth-child(3){ border-left-color:var(--badiani-yellow); }
    .timeline-item:hover{ transform:translateY(-10px); box-shadow:0 20px 60px rgba(240,103,166,0.3); }
    .timeline-year{ font-size:48px; font-weight:700; color:var(--badiani-pink); margin-bottom:18px; letter-spacing:2px; font-family:'SuperGroteskC', 'SuperGroteskDigits', 'SuperGroteskB', 'SuperGroteskA', sans-serif; }
    .timeline-item:nth-child(1) .timeline-year{ color:var(--badiani-blue); }
    .timeline-item:nth-child(2) .timeline-year{ color:var(--badiani-pink); }
    .timeline-item:nth-child(3) .timeline-year{ color:var(--badiani-yellow); }
    .timeline-title{ font-size:24px; font-weight:600; color:var(--badiani-blue); margin-bottom:18px; text-transform:uppercase; letter-spacing:1px; }
    .timeline-desc{ font-size:19px; line-height:1.9; color:var(--badiani-gray); font-weight:300; }

    .mission-vision{ padding:0; display:grid; grid-template-columns:1fr 1fr; }
    .mission-box, .vision-box{ padding:70px 45px; color:#fff; min-height:480px; display:flex; flex-direction:column; justify-content:center; position:relative; overflow:hidden; }
    .mission-box{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); }
    .vision-box{ background:linear-gradient(135deg, var(--badiani-pink), #ff7ab7); }
    .mission-box::before, .vision-box::before{ content:""; position:absolute; inset:-20px; background-size:cover; background-position:center; opacity:0.18; pointer-events:none; transition: transform 0.5s ease, opacity 0.5s ease; }
    .mission-box:hover::before, .vision-box:hover::before{ transform: scale(1.06); opacity:0.28; }

    /* Only these two strong lines should always use SuperGroteskC */
    .mission-box p strong,
    .vision-box p strong{
      font-family:'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight:500;
      text-transform:uppercase;
    }
    .mission-box::before{ background-image:url('mission.webp'); }
    .vision-box::before{ background-image:url('vision.webp'); }
    .mission-box > *, .vision-box > *{ position:relative; z-index:1; }
    .mission-box h2, .vision-box h2{ font-size:48px; letter-spacing:3px; text-transform:uppercase; margin-bottom:25px; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.3); }
    .mission-box p, .vision-box p{ font-size:24px; line-height:1.9; font-weight:300; text-shadow:1px 1px 4px rgba(0,0,0,0.3); }

    .heritage{ padding:70px 20px; text-align:center; }
    .heritage > *{ position:relative; z-index:1; }
    .heritage h2{ position:relative; display:inline-block; padding-left:50px; font-size:54px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:25px; font-weight:700; }
    .heritage h2::before{ content:''; position:absolute; left:0; top:50%; transform:translateY(-50%); width:40px; height:40px; background:var(--badiani-blue); border-radius:3px; }
    .heritage-intro{ max-width:950px; margin:0 auto 45px; font-size:20px; line-height:1.9; font-weight:300; }
    .stats{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:25px; max-width:1150px; margin:0 auto; }
    .stat{ background:var(--badiani-blue); color:#fff; padding:50px 25px; border-radius:20px; transition:transform 0.3s; }
    .stat:hover{ transform:translateY(-5px); }
    .stat:nth-child(2){ background:var(--badiani-pink); }
    .stat:nth-child(3){ background:var(--badiani-yellow); color:#fff; }
    .stat:nth-child(4){ background:var(--badiani-cyan); color:#fff; }
    .stat-num{ font-size:54px; font-weight:700; margin-bottom:12px; }
    .stat-label{ font-size:16px; text-transform:uppercase; letter-spacing:2px; opacity:0.95; font-weight:500; }

    .global-presence{ width:100%; padding:0; line-height:1; background:#1f4495 url('worldwide.webp?v=20251222') center/contain no-repeat; position:relative; aspect-ratio: 8 / 3; overflow:hidden; }
    /* Darken only the top area of the image for title readability */
    .global-presence::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:28%;
      background:linear-gradient(to bottom, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0.00) 100%);
      z-index:2;
      pointer-events:none;
    }
    /* Hide any legacy inline image (e.g., old base64) so only the updated background is shown */
    .global-presence img{ display:none; }
    .global-presence-headline{ position:absolute; top:7%; left:0; right:0; text-align:center; z-index:3; padding:0 18px; }

    /* Reference-style title: “BADIANI AROUND THE WORLD / MEANS / GELATO” */
    .global-presence-headline .world-means-title{
      margin:0;
      color:#fff;
      text-transform:uppercase;
      line-height:0.95;
      text-shadow:2px 2px 10px rgba(0,0,0,0.25);
    }
    .global-presence-headline .world-means-title .wmt-top{
      display:block;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA', sans-serif;
      font-weight:700;
      font-size:clamp(18px, 3.24vw, 45.6px);
      letter-spacing:0.08em;
    }
    .global-presence-headline .world-means-title .wmt-mid{
      display:block;
      margin-top:14px;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight:400;
      font-size:clamp(12px, 1.56vw, 30px);
      letter-spacing:0.24em;
      opacity:0.92;
    }
    .global-presence-headline .world-means-title .wmt-bottom{
      display:block;
      margin-top:10px;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA', sans-serif;
      font-weight:800;
      font-size:clamp(56.16px, 9.828vw, 152.88px);
      letter-spacing:0.06em;
    }

    /* BARATTOLO SHOWCASE - Full width video separator */
    .barattolo-showcase{ width:100%; padding:0; line-height:0; background:#000; overflow:hidden; }
    .barattolo-showcase video{ width:100%; height:auto; display:block; object-fit:cover; }

    /* BARATTOLO INTRO CON SFONDO CALLIGRAFICO */
    .barattolo-intro{ 
      background: #3d4f8f url('assets/barattolo-tab.webp?v=20251222') center/cover no-repeat; 
      padding:0; 
      text-align:left; 
      position:relative; 
      overflow:hidden; 
      color:#fff;
    }
    .barattolo-intro::before{ 
      content:""; 
      position:absolute; 
      inset:0; 
      background:rgba(61,79,143,0.5);
      z-index:0;
    }
    .barattolo-intro > * {
      position: relative;
      z-index: 2;
    }
    /* Let the video column auto-size from the video's aspect ratio when height is 100% */
    .barattolo-intro-content{ max-width:1400px; margin:0 auto; display:grid; grid-template-columns:auto 1fr; gap:70px; align-items:stretch; text-align:left; padding:0 20px; }
    /* Bigger video column on desktop (keeps aspect ratio via object-fit:contain on the <video>) */
    .barattolo-image-pila{ position:relative; width:clamp(320px, 30vw, 560px); min-width:280px; max-width:560px; display:flex; align-items:stretch; justify-content:center; overflow:hidden; background:rgba(0,0,0,0.18); }

    /* Subtle overlay so any letterboxing looks like part of the background */
    .barattolo-image-pila::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background:linear-gradient(180deg, rgba(0,0,0,0.10) 0%, rgba(0,0,0,0.00) 35%, rgba(0,0,0,0.12) 100%);
      z-index:1;
    }
    .barattolo-image-pila img, .barattolo-image-pila video{ width:100%; border-radius:15px; box-shadow:0 15px 50px rgba(0,0,0,0.2); transition:transform 0.4s ease; display:block; }
    .barattolo-image-pila img{ height:auto; border:6px solid #fff; }
    /* Video: show full frame without cropping on desktop */
    .barattolo-image-pila video{
      display:block;
      width:100%;
      height:auto;
      max-width:100%;
      object-fit:contain;
      object-position:center center;
      border:0;
      border-radius:0;
      box-shadow:none;
      transform:none;
      position:relative;
      z-index:0;
    }
    .barattolo-image-pila:hover img{ transform:scale(1.05); }
    .barattolo-text{ text-align:left; color:#fff; display:flex; flex-direction:column; justify-content:center; padding:30px 0; }
    .barattolo-text h2{ position:relative; display:inline-block; padding-left:0; font-size:50px; letter-spacing:1px; text-transform:uppercase; color:#fff; margin-bottom:22px; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.2); }
    .barattolo-text h2 span{ color:var(--badiani-pink); font-style:normal; }
    .barattolo-text p{ font-size:19px; line-height:1.9; margin-bottom:18px; font-weight:400; text-shadow:1px 1px 3px rgba(0,0,0,0.2); }
    .barattolo-text .highlight-pink{ background:var(--badiani-pink); color:#fff; padding:2px 6px; border-radius:3px; font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-weight:500; text-transform:uppercase; font-variant-caps:normal; }
    .barattolo-text strong{ color:#fff; font-weight:600; }
    .barattolo-text .barattolo-cta{ align-self:flex-start; width:auto; }

    /* Desktop-only: give the section more height and slightly bigger text next to the video */
    @media (min-width: 901px){
      .barattolo-intro-content{ min-height: auto; }
      .barattolo-text{ padding:40px 0; }
      .barattolo-text h2{ font-size:56px; }
      .barattolo-text p{ font-size:21px; }
    }

    .products{ padding:90px 20px; }
    .products > *{ position:relative; z-index:1; }
    .section-title{ position:relative; display:inline-block; padding-left:50px; font-size:54px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:25px; text-align:center; font-weight:700; }
    .section-title::before{ content:''; position:absolute; left:0; top:50%; transform:translateY(-50%); width:40px; height:40px; background:var(--badiani-cyan); border-radius:3px; }
    .section-title span{ color:var(--badiani-pink); font-style:normal; }
    .section-subtitle{ text-align:center; font-size:20px; color:var(--badiani-gray); margin-bottom:65px; font-style:normal; font-family:'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-weight:500; }

    /* Center the Premium Collection title and square as a single block */
    .products .section-title{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      padding-left:0;
      width:fit-content;
      margin:0 auto 25px;
    }
    .products .section-title::before{
      position:static;
      transform:none;
      display:inline-block;
      flex-shrink:0;
    }
     /* UPDATED: Tab quadrati 380px - FORZATO con padding */
     .products-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(380px,1fr)); gap:50px; max-width:1350px; margin:0 auto; }
    .card{ background:#fff; border-radius:25px; overflow:hidden; box-shadow:0 15px 50px rgba(0,0,0,0.15); transition:all 0.4s; }
    .card:hover{ transform:translateY(-12px) scale(1.02); box-shadow:0 25px 70px rgba(0,0,0,0.25); }
     /* FORZA quadrato: usa padding-top 100% per creare un box quadrato */
     .card-img{ 
       width:100%; 
       height:0;
       padding-top:100%;
       overflow:hidden; 
       background:linear-gradient(135deg, #f5f5f5, #fff); 
       background-size:cover; 
       background-position:center center; 
       background-repeat:no-repeat;
       position:relative; 
       cursor:pointer; 
       transition:all 0.3s ease; 
     }
    .card-img:hover{ background:linear-gradient(135deg, #fff, #fef5f9); }
    /* overlay button: use a real element instead of pseudo-element so it's clickable */
    .card-img::after{ display:none; }
    .card-img .card-btn{ position:absolute; bottom:18px; left:50%; transform:translateX(-50%) translateY(50px); background:rgba(30,57,141,0.95); color:#fff; padding:12px 28px; border-radius:25px; font-size:15px; letter-spacing:1.2px; text-transform:uppercase; opacity:0; transition:all 0.35s ease; pointer-events:auto; font-weight:600; box-shadow:0 6px 22px rgba(30,57,141,0.35); text-decoration:none; display:inline-block; }
    .card-img:hover .card-btn{ transform:translateX(-50%) translateY(0); opacity:1; }
     /* Immagine posizionata absolute per riempire il contenitore quadrato */
    .card-img img{
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center center;
      filter:brightness(1.03) drop-shadow(0 10px 30px rgba(0,0,0,0.18));
      transition: transform 0.45s ease, filter 0.28s ease;
      transform: scale(1.0);
      will-change: transform;
    }

    /* Hover zoom on images */
    .card-img img:hover {
      transform: scale(1.12);
      filter: brightness(1.08);
    }

    /* Prevent the three jar product cards from scaling on card hover */
    .card.classico:hover,
    .card.dolcevita:hover,
    .card.pistacchio:hover {
      transform: translateY(-12px);
      box-shadow:0 25px 70px rgba(0,0,0,0.25);
    }
    .card-award{ position:absolute; top:22px; right:22px; background:var(--badiani-yellow); color:#fff; padding:10px 20px; border-radius:25px; font-size:14px; font-weight:600; letter-spacing:1px; text-transform:uppercase; box-shadow:0 4px 15px rgba(216,162,0,0.4); z-index:2; }
    .card-header{ padding:30px 35px; text-align:center; color:#fff; }
    .card.classico .card-header{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); }
    .card.dolcevita .card-header{ background:linear-gradient(135deg, #3d2314, #5a3320); }
    .card.pistacchio .card-header{ background:linear-gradient(135deg, var(--badiani-green), #7f8c5a); }
    .card-name{ font-size:30px; font-weight:700; letter-spacing:1px; text-transform:uppercase; margin-bottom:10px; }
    .card-sub{ font-size:16px; opacity:.9; letter-spacing:1px; font-style:normal; font-weight:300; text-transform:uppercase; }
    .card-body{ padding:35px; }
    .card-description{ font-size:19px; margin-bottom:25px; line-height:1.9; color:var(--badiani-gray); font-weight:300; }
    .card-features{ list-style:none; padding:0; display:grid; grid-template-columns:1fr 1fr; gap:14px; }
    .card-features li{ font-size:16px; padding:12px; background:var(--bg-light); border-radius:10px; display:flex; align-items:center; gap:10px; font-weight:400; }
    /* use Unicode escape for checkmark to avoid encoding issues */
    .card-features li::before{ content:"\2713"; color:var(--badiani-pink); font-size:18px; font-weight:700; margin-right:6px; display:inline-block; }

    .specs-overlay{ position:fixed; top:0;left:0; width:100%; height:100%; z-index:9999; display:none; opacity:0; transition:opacity 0.5s ease; overflow:hidden; }
    .specs-overlay.active{ display:block; opacity:1; }
    .specs-overlay-bg{ position:fixed; top:0;left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px); }
    .specs-overlay-content{ position:relative; z-index:2; display:flex; flex-direction:row; align-items:center; justify-content:center; width:100%; max-width:1150px; height:100vh; margin:0 auto; gap:30px; padding:25px; }
    /* IMMAGINE OVERLAY: quadrata e grande come il pannello specs */
    .specs-overlay-image{ 
      width:50%; 
      max-width:550px; 
      aspect-ratio:1/1;
      overflow:hidden; 
      border-radius:12px; 
      animation:slideLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); 
      box-shadow:0 10px 35px rgba(240,103,166,0.4); 
      background:linear-gradient(135deg, #f5f5f5, #fff); 
      flex-shrink:0;
      position:relative;
    }
    .specs-overlay-image img{ 
      position:absolute;
      top:0;
      left:0;
      width:100%; 
      height:100%; 
      object-fit:cover; 
      display:block; 
      filter:brightness(1.05); 
    }
    @keyframes slideLeft{ from{transform:translateX(-50px);opacity:0;} to{transform:translateX(0);opacity:1;} }
    .specs-panel-fullscreen{ width:55%; max-width:650px; max-height:70vh; overflow-y:auto; background:linear-gradient(135deg, #fff 0%, #f8f8f8 100%); border-radius:12px; padding:25px; box-shadow:0 10px 40px rgba(0,0,0,0.6); animation:slideRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s both; flex-shrink:0; }
    @keyframes slideRight{ from{transform:translateX(50px);opacity:0;} to{transform:translateX(0);opacity:1;} }
    .specs-panel-title{ font-size:20px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:18px; padding-bottom:10px; border-bottom:3px solid var(--badiani-pink); font-weight:700; }
    .specs-grid{ display:grid; grid-template-columns:repeat(2, 1fr); gap:12px; }
    
    /* Specs boxes: always use Grotesk C (except the title above) */
    .specs-panel-fullscreen .specs-grid,
    .specs-panel-fullscreen .specs-grid *{
      font-family: 'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskB', 'SuperGroteskA', sans-serif !important;
    }
    .spec-card{ background:#fff; padding:15px; border-radius:10px; border-left:4px solid var(--badiani-pink); box-shadow:0 2px 8px rgba(0,0,0,0.08); transition:all 0.3s ease; }
    .spec-card:nth-child(odd){ border-left-color:var(--badiani-blue); }
    .spec-card:nth-child(even){ border-left-color:var(--badiani-pink); }
    .spec-card:hover{ transform:translateY(-2px); box-shadow:0 4px 12px rgba(240,103,166,0.15); }
    .spec-label{ font-size:13px; text-transform:uppercase; letter-spacing:0.5px; color:var(--badiani-pink); font-weight:700; margin-bottom:8px; display:block; }
    .spec-card:nth-child(odd) .spec-label{ color:var(--badiani-blue); }
    .spec-card:nth-child(even) .spec-label{ color:var(--badiani-pink); }
    .spec-value{ font-size:15px; font-weight:500; color:var(--badiani-gray); line-height:1.4; }
    .specs-close-btn{
      --close-icon-size: 22px;
      --close-icon-stroke: 3px;
      position:fixed;
      top:18px;
      right:18px;
      width:55px;
      height:55px;
      background:linear-gradient(135deg, var(--badiani-pink), #ff7ab7);
      border:none;
      border-radius:50%;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:10;
      box-shadow:0 5px 20px rgba(240,103,166,0.5);

      /* Avoid font-metric misalignment: draw the X via CSS instead of a glyph */
      padding:0;
      line-height:0;
      font-size:0;
      color:transparent;
      text-shadow:none;
      appearance:none;
      -webkit-appearance:none;

      transform-origin:center;
      will-change:transform;
      backface-visibility:hidden;
      transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    }
    .specs-close-btn::before,
    .specs-close-btn::after{
      content:"";
      position:absolute;
      left:50%;
      top:50%;
      width:var(--close-icon-size);
      height:var(--close-icon-stroke);
      background:#fff;
      border-radius:999px;
      transform-origin:center;
    }
    .specs-close-btn::before{ transform:translate(-50%, -50%) rotate(45deg); }
    .specs-close-btn::after{ transform:translate(-50%, -50%) rotate(-45deg); }
    .specs-close-btn:hover{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); transform:rotate(90deg) scale(1.1) translateZ(0); box-shadow:0 8px 28px rgba(30,57,141,0.6); }

    .gallery{ background: #ff6b9d url('assets/barattolo-tab.webp?v=20251222') center/cover no-repeat; padding:90px 20px; text-align:center; position:relative; overflow:hidden; }
    .gallery::before{ content:''; position:absolute; inset:0; background:rgba(255,107,157,0.7); z-index:0; }
    .gallery > *{ position:relative; z-index:1; }
    .gallery h2{ font-size:54px; letter-spacing:1px; text-transform:uppercase; margin-bottom:25px; color:#fff; font-weight:700; }
    .gallery-subtitle{ color:#fff; font-size:26px; margin-bottom:55px; opacity:0.95; font-style:normal; font-weight:300; }
    .gallery-grid{ display:flex; justify-content:center; align-items:center; gap:45px; flex-wrap:wrap; min-height:350px; }
    .gallery-item{ 
        width:220px; 
        height:220px; 
        border-radius:50%; 
        overflow:hidden; 
        box-shadow:0 15px 40px rgba(0,0,0,0.3); 
        border:7px solid #fff; 
        transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), 
                    filter 0.4s ease,
                    opacity 0.4s ease;
        cursor:pointer;
        position:relative;
        z-index:1;
    }
    .gallery-item:hover{ 
        transform:scale(1.8) rotate(0deg); 
        box-shadow:0 30px 80px rgba(0,0,0,0.5), 0 0 60px rgba(255,90,158,0.3); 
        z-index:10;
        border-color: var(--badiani-pink);
    }
    .gallery-grid:hover .gallery-item:not(:hover){
        transform: scale(0.7);
        opacity: 0.5;
        filter: blur(2px) grayscale(30%);
    }
    .gallery-item img{ 
        width:100%; 
        height:100%; 
        object-fit:cover; 
        filter:brightness(1.1); 
        transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .gallery-item:hover img{
        transform: scale(1.15);
    }

    .why{ background:var(--badiani-blue); color:#fff; padding:70px 20px; text-align:center; position:relative; overflow:hidden; }
    /* Give the background video more vertical room on desktop so it's less cropped */
    @media (min-width: 901px){
      /* Prevent the section (and thus the video) from becoming huge in fullscreen on large monitors */
      .why{ min-height: clamp(520px, 70vh, 720px); }
    }
    /* Video background layer (replaces the previous image overlay) */
    .why .why-video-bg{ position:absolute; inset:0; z-index:0; pointer-events:none; overflow:hidden; }
    .why .why-video-bg video{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      /* Crop more from the top (bias further toward lower part) */
      object-position: center 82%;
      filter: brightness(0.75) saturate(1.1);
      transform: translateZ(0);
    }
    /* Optional tint to keep text readable */
    .why .why-video-bg::after{
      content:"";
      position:absolute;
      inset:0;
      background:rgba(30,57,141,0.45);
    }
    .why > *{ position:relative; z-index:1; }
    .why h2{ font-size:50px; letter-spacing:1px; text-transform:uppercase; margin-bottom:35px; color:#fff; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.3); }
    .why h2 span{ color:var(--badiani-pink); font-style:normal; }
    .benefits{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:25px; max-width:1150px; margin:0 auto; }
    /* Move the "tabs" (benefit cards grid) down on desktop */
    @media (min-width: 901px){
      .why .benefits{ transform: translateY(30%); }
    }
    .benefit{ background:rgba(255,255,255,0.15); padding:30px 25px; border-radius:18px; border:2px solid rgba(255,255,255,0.2); transition:all 0.3s; -webkit-backdrop-filter:blur(5px); backdrop-filter:blur(5px); }
    .benefit:hover{ border-color:var(--badiani-pink); background:rgba(255,255,255,0.22); transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.3); }
    .benefit h3{ font-size:22px; letter-spacing:1.5px; text-transform:uppercase; margin-bottom:15px; color:var(--badiani-yellow); font-weight:600; text-shadow:1px 1px 4px rgba(0,0,0,0.3); }
    .benefit p{ font-size:18px; opacity:.95; line-height:1.8; font-weight:300; text-shadow:1px 1px 3px rgba(0,0,0,0.2); }

    .contact{ padding:70px 20px; text-align:center; }
    .contact > *{ position:relative; z-index:1; }
    .contact h2{ position:relative; display:inline-block; padding-left:50px; font-size:54px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:25px; font-weight:700; }
    .contact h2::before{ content:''; position:absolute; left:0; top:50%; transform:translateY(-50%); width:40px; height:40px; background:var(--badiani-pink); border-radius:3px; }
    .contact p{ font-size:19px; margin-bottom:12px; font-weight:300; }
    .contact p.highlight{ color:var(--badiani-pink); font-weight:600; font-size:28px; }
    .cta-btn{ display:inline-block; margin-top:30px; padding:20px 60px; background:var(--badiani-pink); color:#fff; text-decoration:none; border-radius:35px; font-size:16px; font-weight:600; letter-spacing:3px; text-transform:uppercase; transition:all 0.3s; box-shadow:0 8px 25px rgba(240,103,166,0.3); }
    .cta-btn:hover{ background:var(--badiani-blue); transform:translateY(-3px); box-shadow:0 12px 35px rgba(30,57,141,0.4); }

    footer{ background:#333; color:#fff; padding:36px; text-align:center; font-size:14px; font-weight:300; }
    footer span{ color:var(--badiani-pink); font-weight:500; }

    .menu-toggle{ display:none; width:32px; height:28px; flex-direction:column; justify-content:space-between; cursor:pointer; z-index:1001; }
    .menu-toggle span{ display:block; width:100%; height:4px; background:#fff; border-radius:3px; transition:all 0.3s; }
    .menu-toggle.active span:nth-child(1){ transform:translateY(12px) rotate(45deg); }
    .menu-toggle.active span:nth-child(2){ opacity:0; }
    .menu-toggle.active span:nth-child(3){ transform:translateY(-12px) rotate(-45deg); }

    /* ===== RESPONSIVE MOBILE - COMPLETAMENTE PROPORZIONATO ===== */
    
    @media(max-width:1100px){ 
      .products-grid{grid-template-columns:repeat(auto-fit,minmax(320px,1fr));} 
      .story-timeline{grid-template-columns:1fr;gap:30px;} 
    }
    
    @media(max-width:900px){ 
      /* Menu mobile */
      .menu-toggle{display:flex;} 
      .nav-menu{
        position:fixed;
        top:0;
        right:-100%;
        width:75vw;
        max-width:280px;
        height:100vh;
        background:var(--badiani-blue);
        flex-direction:column;
        padding:80px 20px 30px;
        transition:right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow:-10px 0 30px rgba(0,0,0,0.5);
        gap:10px;
        align-items:stretch;
        z-index:1000;
        overflow-y:auto;
      } 
      .nav-menu.active{right:0;} 
      .nav-menu a{
        font-size:14px;
        padding:14px 16px;
        width:100%;
        border-bottom:1px solid rgba(255,255,255,0.15);
        background:rgba(255,255,255,0.05);
        border-radius:8px;
        text-align:left;
        letter-spacing:1px;
      }
      header{padding:12px 15px; display:flex; justify-content:space-between;} 
      .logo-img{height:40px;} 
      
      /* Hero proporzionato */
      .hero{height:auto; min-height:50vh; padding:40px 15px 35px;} 
      .hero h1{font-size:clamp(31.2px, 8.4vw, 43.2px); letter-spacing:1px; line-height:1.2;} 
      .hero .hero-subtitle{font-size:4vw; line-height:1.4;}
      .hero p{font-size:4.9vw; line-height:1.6; padding:0 5px;}
      .hero-content{ top:0; padding:12px; max-width:95%; }
      .hero:hover .hero-content{ opacity:1; transform:none; filter:none; pointer-events:auto; }
      .hero:hover .hero-bg{ filter:brightness(0.32); transform:none; }
      
      /* Banner e divider */
      .pink-banner{ padding:8px 10px; font-size:2.8vw; letter-spacing:1px; }
      .pink-banner p,
      .pink-banner #bannerCurrent{ font-size:2.8vw; min-height:14px; }
      .section-divider{ padding:10px 12px; font-size:2.8vw; letter-spacing:1px; }
      
      /* Titoli sezione */
      .section-title{ font-size:6vw; padding-left:25px; letter-spacing:0.5px; }
      .section-title::before{ width:20px; height:20px; }
      .section-subtitle{ font-size:3.5vw; padding:0 15px; }
      
      /* Gallery proporzionata */
      .gallery{ padding:40px 10px; }
      .gallery h2{ font-size:6vw; }
      .gallery-subtitle{ font-size:3.5vw; padding:0 15px; margin-bottom:25px; }
      .gallery-grid{ gap:12px; min-height:auto; padding:0 10px; flex-wrap:wrap; justify-content:center; }
      .gallery-item{ width:22vw; height:22vw; max-width:100px; max-height:100px; border-width:3px; }
      .gallery-item:hover{ transform:scale(1.2); }
      .gallery-grid:hover .gallery-item:not(:hover){ transform:scale(0.9); opacity:0.6; }
      
      /* Barattolo proporzionato */
      .barattolo-intro{ padding:0; }
      .barattolo-intro-content{ grid-template-columns:1fr; gap:18px; padding:0; } 
      .barattolo-image-pila{ max-width:none; width:100%; margin:0; background:rgba(0,0,0,0.18); display:flex; justify-content:center; } 
      .barattolo-image-pila video{ height:min(75vh, 560px); width:100%; max-width:100%; } 
      .barattolo-text{ text-align:center; padding:40px 15px; } 
      .barattolo-text h2{font-size:6vw;}
      .barattolo-text p{ font-size:3.5vw; line-height:1.6; }
      .barattolo-text .barattolo-cta{ align-self:center; }
      
      /* Mission/Vision proporzionato */
      .mission-vision{grid-template-columns:1fr; gap:0;} 
      .mission-box, .vision-box{ padding:35px 20px; min-height:auto; }
      .mission-box h2, .vision-box h2{ font-size:6vw; margin-bottom:15px; }
      .mission-box p, .vision-box p{ font-size:4.2vw; line-height:1.7; }
      
      /* Products proporzionato */
      .products{ padding:40px 10px; }
      .products-grid{ grid-template-columns:1fr; gap:20px; padding:0 10px; }
      .card{ max-width:100%; }
      .card-img{ height:45vw; max-height:200px; }
      .card-name{ font-size:5vw; }
      .card-description{ font-size:3.2vw; }
      .card-sub{ font-size:2.8vw; }
      .card-features li{ font-size:3vw; }
      
      /* Why section proporzionato */
      .why{ padding:40px 15px; }
      .why h2{ font-size:6vw; }
      .why-subtitle{ font-size:3.5vw; padding:0 10px; }
      .why-grid{ grid-template-columns:1fr; gap:15px; }
      .benefit{ padding:20px 15px; }
      .benefit h3{ font-size:4.5vw; }
      .benefit p{ font-size:3.2vw; }
      
      /* Contact proporzionato */
      .contact{ padding:40px 15px; }
      .contact h2{ font-size:6vw; }
      .contact p{ font-size:3.5vw; padding:0 10px; }
      .cta-btn{ padding:12px 25px; font-size:3.5vw; }
      
      /* Footer proporzionato */
      footer{ padding:25px 15px; font-size:3vw; }
      
      /* Heritage proporzionato */
      .heritage{ padding:40px 15px; }
      .heritage h2{ font-size:6vw; }
      .heritage p{ font-size:3.5vw; line-height:1.6; }
      .story-lead{ font-size:3.8vw; line-height:1.6; padding:0 10px; }
      .timeline-item h3{ font-size:4.5vw; }
      .timeline-desc{ font-size:3.2vw; }
      .stat-num{ font-size:10vw; }
      .stat-label{ font-size:2.8vw; }
      
      /* Locations proporzionato */
      .locations-strip{ padding:35px 10px; }
      .locations-strip h2{ font-size:5vw; }
      .locations-list{ font-size:3vw; gap:10px; flex-wrap:wrap; justify-content:center; }
      
      /* Specs overlay proporzionato */
      .specs-overlay-content{flex-direction:column;padding:15px;height:100vh;overflow-y:auto;}
      .specs-overlay-image{width:85vw;max-width:300px;max-height:35vh;}
      .specs-overlay-image img{padding:10px;}
      .specs-panel-fullscreen{width:90vw;max-width:400px;max-height:none;padding:15px;}
    }
    
    @media(max-width:600px){ 
      /* Ancora più piccolo per schermi piccoli */
      .hero{min-height:45vh; padding:30px 12px 30px;} 
      .hero h1{font-size:7.8vw;} 
      .hero .hero-subtitle{font-size:3.8vw;}
      .hero p{font-size:4.48vw;}
      
      .gallery-item{ width:20vw; height:20vw; max-width:85px; max-height:85px; border-width:2px; }
      
      .nav-menu{ width:80vw; padding:70px 15px 25px; }
      .nav-menu a{ font-size:13px; padding:12px 14px; }
      
      .card-img{ height:40vw; max-height:180px; }
      
      .mission-box, .vision-box{ padding:30px 15px; }
      
      
    }
    
    @media(max-width:400px){
      /* Ultra-piccolo per schermi molto stretti */
      header{ padding:10px 12px; }
      .logo-img{ height:35px; }
      
      .hero{min-height:40vh; padding:25px 10px;} 
      .hero h1{font-size:7.2vw;} 
      .hero .hero-subtitle{font-size:3.5vw;}
      
      .section-title{ font-size:5.5vw; padding-left:20px; }
      .section-title::before{ width:16px; height:16px; }
      
      .gallery-item{ width:18vw; height:18vw; max-width:70px; max-height:70px; }
      
      .barattolo-image-pila{max-width:55vw;} 
      .barattolo-image-pila video{ height:280px; width:100%; }
      .barattolo-text h2{font-size:5.5vw;}
      
      .nav-menu{ width:85vw; }
      .nav-menu a{ font-size:12px; padding:10px 12px; }
      
      .cta-btn{ padding:10px 20px; font-size:3.2vw; }
      
      .stat-num{ font-size:9vw; }
    }

    /* HERO BG: full-width photo (no crop).
       The <img> defines the hero height (no cropping). */
    .hero{
      height:auto;
      padding:0;
      display:block;
    }

    .hero .hero-bg{
      position:relative;
      top:auto; left:auto; right:auto; bottom:auto;
      background-image: none;
      background: none;
      transform: none;
      transform-origin: center;
      width:100%;
      height:auto;
    }

    .hero .hero-bg img{
      display:block;
      width:100%;
      height:auto;
      max-width:none;
    }

    /* Desktop: center ONLY the text block within the hero (image stays unchanged). */
    @media (min-width: 901px){
      .hero{
        display:grid;
        align-items:center;
        justify-items:center;
      }
      .hero .hero-bg{
        grid-area: 1 / 1;
        align-self:stretch;
        justify-self:stretch;
      }
      .hero-content{
        position:relative;
        top:auto;
        left:auto;
        right:auto;
        margin:0 auto;
        padding:clamp(18px, 4vh, 52px) 20px 24px;
        grid-area: 1 / 1;
        align-self:center;
        justify-self:center;
      }
    }

    /* No hover zoom */
    .hero:hover .hero-bg{
      transform: none;
    }

    /* Elimina lo spazietto tra barra rosa e foto hero (seam da sub-pixel) */
    #scrollBanner{ margin-bottom: 0; }
    #hero{ margin-top: -1px; }
  </style>
</head>
<body>

<div class="header-wrapper">
  <header>
    <a class="logo-link" id="logoLink" href="#hero" aria-label="Back to top">
      <img src="assets/extracted/f473fa4a48ae6948929084c736e84f6274322e2d.webp" alt="Badiani Gelato Firenze 1932" class="logo-img">
    </a>

    <nav class="nav-menu" id="navMenu">
      <a href="#story">Story</a>
      <a href="#products">Products</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="menu-toggle" id="menuToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>
  <div class="pink-banner" id="scrollBanner">
    <div id="bannerCurrent" class="banner-ticker" aria-live="polite"></div>
  </div>
</div>

<div class="section-divider-data" data-section="hero" data-text="iconic italian gelato &middot; since 1932 &middot; from florence with love"></div>

<section id="hero" class="hero">
  <div class="hero-bg" aria-hidden="true">
    <img src="freezer-prodotti.webp" alt="" decoding="async" loading="eager">
  </div>
  <div class="hero-content">
    <h1>Il Barattolo <span>GELATO</span></h1>
    <p class="hero-subtitle">A Creative Flavour Journey from Florence</p>
    <p>Authentic Florentine artisan gelato for premium retail distribution. Over 90 years of gelato-making excellence from the birthplace of gelato.</p>
  </div>
</section>

<div class="section-divider-data" data-section="story" data-text="the renaissance of gelato &middot; born in florence 1932 &middot; tradition meets innovation"></div>

<section id="story" class="buontalenti-story">
  <div class="story-inner">
    <div class="story-header">
      <h2 class="story-title">Buontalenti: The Cream That Made History</h2>
      <p class="story-lead">
        In the 1960s, in Florence, Badiani dedicated a special flavour to <span class="highlight-pink">Bernardo Buontalenti</span>, the Renaissance architect to whom tradition attributes the birth of <span class="highlight-pink">gelato</span> in the 16th century.
      </p>
    </div>

    <div class="story-timeline">
      <div class="timeline-item">
        <div class="timeline-year">1500s</div>
        <div class="timeline-title">The Origin</div>
        <p class="timeline-desc">Bernardo Buontalenti invents gelato in <span class="highlight-pink">Renaissance Florence</span>, creating a frozen delicacy for the Medici court.</p>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">1960s</div>
        <div class="timeline-title">The Tribute</div>
        <p class="timeline-desc">Badiani creates the "Buontalenti" cream with <span class="highlight-pink">4 simple ingredients</span> (cream, milk, sugar, eggs) honouring the inventor.</p>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">TODAY</div>
        <div class="timeline-title">The Legacy</div>
        <p class="timeline-desc">Il Barattolo Gelato brings this iconic Florentine flavour to <span class="highlight-pink">premium retail</span> worldwide.</p>
      </div>
    </div>
  </div>
</section>

<div class="section-divider-data" data-section="heritage" data-text="from florence to the world &middot; 93 years of excellence &middot; a global legacy"></div>

<div class="section-divider visible">
  <p>from florence to the world &middot; 93 years of excellence &middot; a global legacy</p>
</div>

<section id="heritage" class="heritage">
  <h2>A Legacy of Excellence</h2>
  <p class="heritage-intro">
    Born in <span class="highlight-pink">Florence in 1932</span>, Badiani is one of the world's most prestigious gelato producers. From the birthplace of gelato, we have built an international presence spanning five countries across three continents.
  </p>
  <div class="stats">
    <div class="stat">
      <div class="stat-num">1932</div>
      <div class="stat-label">Founded in Florence</div>
    </div>
    <div class="stat">
      <div class="stat-num">30+</div>
      <div class="stat-label">Stores Worldwide</div>
    </div>
    <div class="stat">
      <div class="stat-num">100%</div>
      <div class="stat-label">Artisan Quality</div>
    </div>
    <div class="stat">
      <div class="stat-num">5</div>
      <div class="stat-label">Countries</div>
    </div>
  </div>
</section>



<div class="section-divider-data" data-section="barattolo" data-text="il barattolo &middot; premium retail format &middot; authentic florentine gelato at home"></div>

<div class="section-divider visible">
  <p>il barattolo &middot; premium retail format &middot; authentic florentine gelato at home</p>
</div>

<section id="barattolo" class="barattolo-intro">
  <div class="barattolo-intro-content">
    <div class="barattolo-image-pila">
      <video autoplay muted loop playsinline preload="metadata" poster="assets/barattolo-showcase.jpg">
        <source src="1120.mp4" type="video/mp4">
      </video>
    </div>
    <div class="barattolo-text">
      <h2>Il Barattolo <span>GELATO</span></h2>
      <p>
        Thanks to the success of our Buontalenti, Buontalenti Pistacchio, and La Dolcevita flavours, we have developed <span class="highlight-pink">Il Barattolo GELATO</span> — a premium line designed for <span class="highlight-pink">large-scale distribution</span>.
      </p>
      <p>
        This innovative format brings the authentic artisanal quality of our gelato to a wider audience, making it more accessible without compromising on ingredient excellence and traditional craftsmanship.
      </p>
      <p>
        With Il Barattolo Gelato, everyone can enjoy the rich, creamy flavours that have made Badiani famous, now in a convenient <span class="highlight-pink">500ml format</span>.
      </p>
      <a href="mailto:retail@badiani1932.com" class="cta-btn barattolo-cta" aria-label="Request distribution information via email">REQUEST SAMPLES AND PRICES NOW</a>
    </div>
  </div>
</section>

<div class="section-divider-data" data-section="products" data-text="award-winning flavours &middot; classico &middot; pistacchio &middot; dolcevita"></div>

<div class="section-divider visible">
  <p>award-winning flavours &middot; classico &middot; pistacchio &middot; dolcevita</p>
</div>

<section id="products" class="products">
  <h2 class="section-title">Premium <span>Collection</span></h2>
  <p class="section-subtitle">Three iconic flavours, authentic Florentine craftsmanship</p>

  <div class="products-grid">

    <article class="card classico">
      <div class="card-img" onclick="openSpecs('classico', 'BUONTALENTI CLASSICO')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Classico specs" onclick="openSpecs('classico', 'BUONTALENTI CLASSICO'); event.stopPropagation(); return false;">ðŸ‘ View Specs</a>
        <img src="classico.webp" alt="Buontalenti Classico">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI CLASSICO</div>
        <div class="card-sub">La Crema Fiorentina</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Our world-famous flagship flavour made with only <span class="highlight-pink">four ingredients</span>: cream, milk, sugar, and free-range eggs.
        </p>
        <ul class="card-features">
          <li>4 ingredients only</li>
          <li>Free-range eggs</li>
          <li>Gluten-free</li>
          <li>24-month shelf life</li>
        </ul>
      </div>
    </article>

    <article class="card dolcevita">
      <div class="card-img" onclick="openSpecs('dolcevita', 'BUONTALENTI DOLCEVITA')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Dolcevita specs" onclick="openSpecs('dolcevita', 'BUONTALENTI DOLCEVITA'); event.stopPropagation(); return false;">ðŸ‘ View Specs</a>
        <div class="card-award">Best Flavour 2015</div>
        <img src="dolcevita.webp" alt="Buontalenti Dolcevita">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI DOLCEVITA</div>
        <div class="card-sub">Variegata alla Gianduia</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Custard gelato with <span class="highlight-pink">gianduia</span> hazelnut-cocoa spread (<span class="percent-boost">20%</span>). Made with Italian hazelnut paste and Madagascar Bourbon vanilla.
        </p>
        <ul class="card-features">
          <li>Italian hazelnut 2.6%</li>
          <li>Madagascar vanilla</li>
          <li>Gluten-free</li>
          <li>Award-winning</li>
        </ul>
      </div>
    </article>

    <article class="card pistacchio">
      <div class="card-img" onclick="openSpecs('pistacchio', 'BUONTALENTI PISTACCHIO')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Pistacchio specs" onclick="openSpecs('pistacchio', 'BUONTALENTI PISTACCHIO'); event.stopPropagation(); return false;">View Specs</a>
        <div class="card-award">World Best-Seller</div>
        <img src="pistacchio.webp" alt="Buontalenti Pistacchio">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI PISTACCHIO</div>
        <div class="card-sub">Variegata al Pistacchio</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Our most popular flavour worldwide. Custard gelato swirled with pistachio spreadable cream (<span class="percent-boost">20%</span>) and <span class="highlight-pink">5% pure pistachio</span> paste.
        </p>
        <ul class="card-features">
          <li>5% pistachio paste</li>
          <li>Free-range eggs</li>
          <li>Gluten-free</li>
          <li>Global favourite</li>
        </ul>
      </div>
    </article>

  </div>
</section>

<div class="section-divider-data" data-section="mission" data-text="artisan craftsmanship &middot; premium ingredients &middot; unforgettable taste"></div>

<div class="section-divider visible">
  <p>artisan craftsmanship &middot; premium ingredients &middot; unforgettable taste</p>
</div>

<section id="mission" class="mission-vision">
  <div class="mission-box">
    <h2>Our Mission</h2>
    <p><strong>Bring Flavour to Your Life</strong></p>
    <p>To bring joy to consumers of all ages through our iconic artisan gelato, always adhering to principles of high quality and sustainability.</p>
  </div>
  <div class="vision-box">
    <h2>Our Vision</h2>
    <p><strong>Inspiring the World with Gelato</strong></p>
    <p>To become the finest gelato brand in the world and inspire people with the taste of freshly-made artisan products.</p>
  </div>
</section>

<div class="section-divider-data" data-section="gallery" data-text="artisan texture &middot; handcrafted swirls &middot; visual delight in every spoonful"></div>

<div class="section-divider visible">
  <p>artisan texture &middot; handcrafted swirls &middot; visual delight in every spoonful</p>
</div>

<div class="specs-overlay" id="specsOverlay" onclick="closeSpecsOnBackground(event)">
  <div class="specs-overlay-bg"></div>
  <button class="specs-close-btn" onclick="closeSpecs(event)">&times;</button>
  <div class="specs-overlay-content" onclick="event.stopPropagation()">
    <div class="specs-overlay-image">
      <img id="overlayImage" src="" alt="">
    </div>
    <div class="specs-panel-fullscreen">
      <h3 class="specs-panel-title" id="overlayTitle"></h3>
      <div class="specs-grid" id="overlaySpecsContent"></div>
    </div>
  </div>
</div>

<section id="gallery" class="gallery">
  <h2>Heritage-Inspired Texture</h2>
  <p class="gallery-subtitle">Beautiful variegated swirls capture the authentic look and feel of our boutique gelato, crafted for a superior sensory experience</p>
  <div class="gallery-grid">
    <div class="gallery-item"><img src="top-classico.webp" alt="Buontalenti Classico top view" loading="lazy"></div>
    <div class="gallery-item"><img src="top-dolcevita.webp" alt="Buontalenti Dolcevita top view" loading="lazy"></div>
    <div class="gallery-item"><img src="top-pistacchio.webp" alt="Buontalenti Pistacchio top view" loading="lazy"></div>
</div>
</section>

<div class="section-divider-data" data-section="locations" data-text="london &middot; barcelona &middot; paris &middot; tokyo &middot; florence &middot; everywhere in style"></div>

<div class="section-divider visible">
  <p>london &middot; barcelona &middot; paris &middot; tokyo &middot; florence &middot; everywhere in style</p>
</div>

<section id="locations" class="global-presence">
  <div class="global-presence-headline">
    <h2 class="world-means-title" aria-label="Badiani around the world means gelato">
      <span class="wmt-top">Badiani Around The World</span>
      <span class="wmt-mid">Means</span>
      <span class="wmt-bottom">Gelato</span>
    </h2>
  </div>
</section>

<div class="section-divider-data" data-section="why" data-text="heritage &middot; quality &middot; global reach &middot; retail excellence &middot; choose badiani"></div>

<div class="section-divider visible">
  <p>heritage &middot; quality &middot; global reach &middot; retail excellence &middot; choose badiani</p>
</div>

<section id="why" class="why">
  <div class="why-video-bg" aria-hidden="true">
    <video autoplay muted loop playsinline preload="metadata">
      <source src="videospesa.mp4" type="video/mp4">
    </video>
  </div>
  <h2>Why Choose <span>Badiani</span></h2>
  <div class="benefits">
    <div class="benefit">
      <h3>Heritage</h3>
      <p><span class="highlight-pink">93 years</span> of gelato-making excellence from Florence, the birthplace of gelato</p>
    </div>
    <div class="benefit">
      <h3>Global Presence</h3>
      <p>30+ stores worldwide including the <span class="highlight-pink">Louvre Museum</span> in Paris</p>
    </div>
    <div class="benefit">
      <h3>Artisan Quality</h3>
      <p>Premium Italian ingredients, award-winning recipes, traditional craftsmanship</p>
    </div>
    <div class="benefit">
      <h3>Retail Ready</h3>
      <p>500ml format, <span class="highlight-pink">24-month shelf life</span> at -18°C, EUR/EPAL pallet compatible</p>
    </div>
  </div>
</section>



<div class="section-divider-data" data-section="contact" data-text="partner with us &middot; bring florence to your customers &middot; let's grow together"></div>

<section id="contact" class="contact">
  <h2>Partner With Badiani</h2>
  <p class="highlight">Bring the authentic taste of Florence to your customers</p>
  <p>retail@badiani1932.com &middot; www.badiani1932.com</p>
  <a id="requestDistributionBtn" href="mailto:retail@badiani1932.com" class="cta-btn" aria-label="Request distribution information via email">REQUEST SAMPLES AND PRICES NOW</a>
</section>

<footer>
  &copy; 2025 <span>Badiani Gelato Firenze 1932</span> &middot; MADE in Italy
</footer>

<script>
const specsData = {
  classico: { image: 'classico-open.webp', specs: [ {label:'Product Code', value:'BBT-0010'}, {label:'Description', value:'Custard Gelato'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620017'}, {label:'EAN Carton', value:'08056214620109'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'255 kcal / 1066 kJ per 100g'}, {label:'Allergens', value:'MILK, EGGS'}, {label:'May Contain', value:'SOY, NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] },
  dolcevita: { image: 'dolcevita-open.webp', specs: [ {label:'Product Code', value:'BDV-0020'}, {label:'Description', value:'Custard gelato with gianduia spread 20%'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620031'}, {label:'EAN Carton', value:'08056214620307'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'333 kcal / 1385 kJ per 100g'}, {label:'Allergens', value:'MILK, HAZELNUTS, EGGS'}, {label:'May Contain', value:'SOY, other NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] },
  pistacchio: { image: 'pistacchio-open.webp', specs: [ {label:'Product Code', value:'BBTP-0030'}, {label:'Description', value:'Custard gelato with pistachio spread 20%'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620055'}, {label:'EAN Carton', value:'08056214620505'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'333 kcal / 1385 kJ per 100g'}, {label:'Allergens', value:'MILK, PISTACHIO'}, {label:'May Contain', value:'SOY, other NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] }
};

let __lastOpenedSpecs = null;

function renderSpecs(productId, title) {
  const overlay = document.getElementById('specsOverlay');
  const overlayImage = document.getElementById('overlayImage');
  const overlayTitle = document.getElementById('overlayTitle');
  const overlaySpecsContent = document.getElementById('overlaySpecsContent');
  const data = specsData[productId];
  if (!overlay || !overlayImage || !overlayTitle || !overlaySpecsContent || !data) return;

  overlayImage.src = data.image;
  overlayTitle.textContent = title;

  const i18n = window.BadianiI18n;
  let specsHTML = '';
  data.specs.forEach(spec => {
    const labelKey = i18n && i18n.translateSpecLabelLabelToKey ? i18n.translateSpecLabelLabelToKey(spec.label) : null;
    const label = labelKey && i18n && i18n.t ? i18n.t(labelKey) : spec.label;
    const value = i18n && i18n.translateSpecValue ? i18n.translateSpecValue(productId, spec.label, spec.value) : spec.value;
    specsHTML += `<div class="spec-card"><span class="spec-label">${String(label).toUpperCase()}</span><span class="spec-value">${value}</span></div>`;
  });
  overlaySpecsContent.innerHTML = specsHTML;
}

function openSpecs(productId, title) {
  __lastOpenedSpecs = { productId, title };
  renderSpecs(productId, title);

  const overlay = document.getElementById('specsOverlay');
  if (overlay) overlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeSpecs(event) {
  if(event) event.stopPropagation();
  const overlay = document.getElementById('specsOverlay');
  overlay.classList.remove('active');
  document.body.style.overflow = '';
}

function closeSpecsOnBackground(event) {
  if(event.target.id === 'specsOverlay' || event.target.classList.contains('specs-overlay-bg')) {
    closeSpecs(event);
  }
}

// If the language changes while the specs overlay is open, re-render the labels.
if (window.BadianiI18n && window.BadianiI18n.onChange) {
  window.BadianiI18n.onChange(() => {
    const overlay = document.getElementById('specsOverlay');
    if (!overlay || !overlay.classList.contains('active') || !__lastOpenedSpecs) return;
    renderSpecs(__lastOpenedSpecs.productId, __lastOpenedSpecs.title);
  });
}

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeSpecs();
  }
});

const menuToggle = document.getElementById('menuToggle');
const navMenu = document.getElementById('navMenu');

// Crea overlay per menu mobile
const menuOverlay = document.createElement('div');
menuOverlay.className = 'menu-overlay';
menuOverlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:999;opacity:0;visibility:hidden;transition:all 0.3s ease;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);';
document.body.appendChild(menuOverlay);

menuToggle.addEventListener('click', () => {
  menuToggle.classList.toggle('active');
  navMenu.classList.toggle('active');
  if(navMenu.classList.contains('active')){
    menuOverlay.style.opacity = '1';
    menuOverlay.style.visibility = 'visible';
    document.body.style.overflow = 'hidden';
  } else {
    menuOverlay.style.opacity = '0';
    menuOverlay.style.visibility = 'hidden';
    document.body.style.overflow = '';
  }
});

menuOverlay.addEventListener('click', () => {
  menuToggle.classList.remove('active');
  navMenu.classList.remove('active');
  menuOverlay.style.opacity = '0';
  menuOverlay.style.visibility = 'hidden';
  document.body.style.overflow = '';
});

navMenu.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => {
    menuToggle.classList.remove('active');
    navMenu.classList.remove('active');
    menuOverlay.style.opacity = '0';
    menuOverlay.style.visibility = 'hidden';
    document.body.style.overflow = '';
  });
});

// Click on logo returns to top/hero
const logoLink = document.getElementById('logoLink');
if (logoLink) {
  logoLink.addEventListener('click', (e) => {
    e.preventDefault();

    // Close mobile menu if open
    if (menuToggle && navMenu && menuOverlay) {
      menuToggle.classList.remove('active');
      navMenu.classList.remove('active');
      menuOverlay.style.opacity = '0';
      menuOverlay.style.visibility = 'hidden';
      document.body.style.overflow = '';
    }

    const hero = document.getElementById('hero');
    if (hero && hero.scrollIntoView) {
      hero.scrollIntoView({ behavior: 'smooth', block: 'start' });
    } else {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  });
}

// Ensure the distribution CTA always opens the user's mail app
// (capture-phase so it wins over any future click handlers)
const requestDistributionBtn = document.getElementById('requestDistributionBtn');
if (requestDistributionBtn && requestDistributionBtn instanceof HTMLAnchorElement) {
  requestDistributionBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    // Force navigation to mailto (some environments ignore default navigation)
    window.location.href = requestDistributionBtn.href;
  }, true);
}

document.addEventListener('DOMContentLoaded', () => {
    const scrollBanner = document.getElementById('scrollBanner');
    const bannerCurrent = document.getElementById('bannerCurrent');

  function buildSequenceElement(text) {
    const parts = String(text)
      .split('·')
      .map(s => s.trim())
      .filter(Boolean);

    const seq = document.createElement('div');
    seq.className = 'banner-ticker__sequence';

    parts.forEach((part, idx) => {
      const item = document.createElement('span');
      item.className = 'banner-item';
      item.textContent = part;
      seq.appendChild(item);

      // add separator after each item (including the last) to keep the loop seamless
      const sep = document.createElement('span');
      sep.className = 'banner-sep';
      sep.textContent = '·';
      seq.appendChild(sep);
    });

    return seq;
  }

  function setTickerText(text) {
    if (!bannerCurrent) return;
    const nextText = String(text ?? '').trim();
    if (!nextText) return;

    if (bannerCurrent.dataset.tickerText === nextText) return;
    bannerCurrent.dataset.tickerText = nextText;

    bannerCurrent.setAttribute('aria-label', nextText);
    bannerCurrent.textContent = '';

    const viewport = document.createElement('div');
    viewport.className = 'banner-ticker__viewport';
    const track = document.createElement('div');
    track.className = 'banner-ticker__track';
    viewport.appendChild(track);
    bannerCurrent.appendChild(viewport);

    const seq = buildSequenceElement(nextText);
    track.appendChild(seq);

    // Duplicate enough times to avoid visible gaps.
    // We animate by -50%, so we want the track to contain two identical halves.
    // We'll build a second identical half, then extend further if needed.
    const seq2 = seq.cloneNode(true);
    seq2.setAttribute('aria-hidden', 'true');
    track.appendChild(seq2);

    // Ensure track is wide enough (especially on large screens / short text)
    requestAnimationFrame(() => {
      const minWidth = viewport.clientWidth * 2;
      while (track.scrollWidth < minWidth) {
        const extra = seq.cloneNode(true);
        extra.setAttribute('aria-hidden', 'true');
        track.appendChild(extra);
      }

      // Force the "two halves" behavior for the -50% animation by setting a fixed width
      // equal to half the content (first two sequences) times 2.
      // If we appended extras, the animation still looks continuous.
    });
  }

    const sections = Array.from(document.querySelectorAll('[data-section]'));
    const sectionData = sections.map(sec => ({ 
        element: document.getElementById(sec.dataset.section), 
        text: sec.dataset.text 
    }));

    let ticking = false;

    function updateBanner() {
        const headerWrapper = document.querySelector('.header-wrapper');
        if (!headerWrapper) return;
        const triggerPoint = headerWrapper.getBoundingClientRect().bottom;

        let currentIdx = -1;

        for (let i = sectionData.length - 1; i >= 0; i--) {
            const el = sectionData[i].element;
            if (el) {
                const sectionTop = el.getBoundingClientRect().top;
                if (sectionTop <= triggerPoint) {
                    currentIdx = i;
                    break;
                }
            }
        }

        const next = (currentIdx >= 0 && sectionData[currentIdx]) ? sectionData[currentIdx].text : sectionData[0].text;
        setTickerText(next);

        ticking = false;
    }

    window.addEventListener('scroll', () => {
        if (!ticking) {
            window.requestAnimationFrame(updateBanner);
            ticking = true;
        }
    });

    window.addEventListener('resize', updateBanner);

    updateBanner(); 
});
</script>

<script>
  // Convert any <img> inside .card-img into a background-image on the container
  // DISABLED: keeping img elements in DOM to allow CSS hover animations
  (function(){
    function convertCardImages(){
      document.querySelectorAll('.card-img').forEach(function(container){
        var img = container.querySelector('img');
        if(img && img.src){
          container.style.backgroundImage = "url('" + img.src + "')";
          container.style.backgroundSize = 'cover';
          container.style.backgroundPosition = 'center center';
          container.style.backgroundRepeat = 'no-repeat';
          // REMOVED: do not remove img element; keep it for CSS animations
          // img.parentNode && img.parentNode.removeChild(img);
        }
      });
    }
    // DISABLED: comment out conversion to keep img elements in DOM
    // if(document.readyState === 'loading'){
    //   document.addEventListener('DOMContentLoaded', convertCardImages);
    // } else {
    //   convertCardImages();
    // }
  })();
</script>

<script>
  // Force Grotesk C for entire elements that contain lowercase letters,
  // even if the same word also contains uppercase letters.
  // We skip elements that are rendered as uppercase via CSS (text-transform: uppercase).
  (function applyGroteskCToLowercaseContainers(){
    const LOWER_RE = /[a-z\u00DF\u00E0-\u00F6\u00F8-\u00FF]/;
    const SKIP_TAGS = new Set(['SCRIPT','STYLE','NOSCRIPT']);

    function isSkippableElement(el){
      if (!el) return true;
      const tag = el.tagName;
      if (!tag) return true;
      if (SKIP_TAGS.has(tag)) return true;
      return false;
    }

    function hasUppercaseTransform(el){
      try {
        return window.getComputedStyle(el).textTransform === 'uppercase';
      } catch {
        return false;
      }
    }

    function scan(){
      if (!document.body) return;

      const walker = document.createTreeWalker(
        document.body,
        NodeFilter.SHOW_TEXT,
        {
          acceptNode(node){
            const v = node && node.nodeValue;
            if (!v) return NodeFilter.FILTER_REJECT;
            if (!LOWER_RE.test(v)) return NodeFilter.FILTER_REJECT;
            return NodeFilter.FILTER_ACCEPT;
          }
        }
      );

      let textNode;
      while ((textNode = walker.nextNode())) {
        const el = textNode.parentElement;
        if (!el || isSkippableElement(el)) continue;
        if (hasUppercaseTransform(el)) continue;
        el.classList.add('sgc-has-lower');
      }
    }

    let scheduled = false;
    function scheduleScan(){
      if (scheduled) return;
      scheduled = true;
      requestAnimationFrame(() => {
        scheduled = false;
        scan();
      });
    }

    // Initial pass
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', scan, { once: true });
    } else {
      scan();
    }

    // Keep it updated for dynamic content (e.g., banner ticker updates)
    if ('MutationObserver' in window) {
      const obs = new MutationObserver(scheduleScan);
      obs.observe(document.body, { subtree: true, childList: true, characterData: true });
    }
  })();
</script>

</body>
</html>

